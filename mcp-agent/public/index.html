<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>MCP Agent Chat</title>
<style>
body { font-family: Arial, sans-serif; margin: 20px; }
#log { border: 1px solid #ccc; padding: 10px; height: 300px; overflow-y: auto; }
#input { width: 80%; }
</style>
</head>
<body>
<h1>MCP Agent Chat</h1>
<div id="log"></div>
<input id="input" autocomplete="off" />
<button id="send">Send</button>
<script>
const log = document.getElementById('log');
const input = document.getElementById('input');
const sendBtn = document.getElementById('send');
function append(role, text) {
  const div = document.createElement('div');
  div.textContent = role + ': ' + text;
  log.appendChild(div);
  log.scrollTop = log.scrollHeight;
}
sendBtn.onclick = async () => {
  const text = input.value.trim();
  if (!text) return;
  append('You', text);
  input.value = '';
  const res = await fetch('/chat', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message: text })
  });
  const data = await res.json();
  append('Assistant', data.reply);
};
</script>
</body>
</html>
